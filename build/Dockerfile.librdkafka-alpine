FROM docker-hub.2gis.ru/microsoft/dotnet:2.1.1-runtime-deps-alpine3.7

WORKDIR /librdkafka

# Install requirements
RUN apk add --update \
        bash \
        git \
        make \
        gcc \
        g++

# Build librdkafka from source
RUN git clone https://github.com/edenhill/librdkafka.git . \
    && git checkout v0.11.4 \
    && ./configure \
    && make \
    && make install
